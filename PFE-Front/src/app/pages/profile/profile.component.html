<div class="settings-container" *ngIf="!loading">
  <div class="profile-header">
    <div class="user-info">
      <img
        *ngIf="user?.profileImage; else defaultImage"
        [src]="user?.profileImage"
        class="profile-avatar"
        alt="Profile Picture"
      />
      <ng-template #defaultImage>
        <div class="profile-avatar-placeholder">
          <span>{{ user?.name?.[0] }}</span>
        </div>
      </ng-template>
      <span class="user-name">{{ user?.name }} {{ user?.lastName }}</span>
    </div>
    <div class="account-title">Profile</div>
    <button class="close-button" routerLink="/home">Ã—</button>
  </div>

  <div class="content-container">
    <!-- Use the shared sidebar component -->
    <app-sidebar [activePage]="'profile'"></app-sidebar>

    <div class="main-content">
      <div class="profile-section">
        <h3>First Name</h3>
        <p class="read-only-value">{{ user?.name }}</p>
      </div>

      <div class="profile-section">
        <h3>Last Name</h3>
        <p class="read-only-value">{{ user?.lastName }}</p>
      </div>

      <div class="profile-section">
        <h3>Email</h3>
        <p class="read-only-value">{{ user?.email }}</p>
      </div>

      <div class="profile-section">
        <h3>Phone Number</h3>
        <p class="read-only-value">{{ user?.phoneNumber || 'Not provided' }}</p>
      </div>

      <div class="footer-actions">
        <button class="save-button" routerLink="/settings">Edit Profile</button>
      </div>
    </div>
  </div>
</div>

<div class="loading-spinner" *ngIf="loading">
  <span>Loading...</span>
</div>