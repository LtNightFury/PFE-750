<app-header></app-header>

<div class="detail-container">
  <!-- LEFT SIDE -->
  <div class="left-side">
    <!-- Carousel for Images -->
    <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item" *ngFor="let img of allImages; let i = index" [class.active]="i === 0">
          <img [src]="img" class="d-block w-100 carousel-img" alt="Property Image">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!-- Property Details -->
    <div class="detail-header">
      <h2>{{ property.generalinfo.title }}</h2>
      <p>{{ property.generalinfo.description }}</p>
    </div>

    <div class="details">
      <div class="mini-left">
        <ul>
          <li><i class="fas fa-home icon"></i><span class="text">{{ property.generalinfo.propertyType }}</span></li>
          <li><i class="fa-solid fa-hammer icon"></i><span class="text">{{ property.generalinfo.propertyCondition }}</span></li>
          <li><i class="fas fa-bed icon"></i><span class="text">{{ property.Specification.bedrooms }} Bedrooms</span></li>
          <li><i class="fas fa-bath icon"></i><span class="text">{{ property.Specification.bathrooms }} Bathrooms</span></li>
          <li><i class="fas fa-tag icon"></i><span class="text">{{ property.price.price }} TND</span></li>
        </ul>
      </div>

      <div class="mini-right">
        <h6><i class="fas fa-handshake"></i> Deal Type: {{ property.generalinfo.dealType | titlecase }}</h6>

        <div class="amenities-section" *ngIf="property.Amenities">
          <h6><i class="fas fa-check-circle"></i> Amenities</h6>
          <ul class="amenities-list">
            <li *ngIf="property.Amenities.centralAC"><i class="fas fa-snowflake"></i> Central A/C</li>
            <li *ngIf="property.Amenities.parking"><i class="fas fa-car"></i> Parking</li>
            <li *ngIf="property.Amenities.elevator"><i class="fas fa-elevator"></i> Elevator</li>
            <li *ngIf="property.Amenities.petsAllowed"><i class="fas fa-paw"></i> Pets Allowed</li>
            <!-- Add more amenities as needed -->
          </ul>
        </div>

        <app-range-date-picker
          *ngIf="property.generalinfo.dealType === 'rent'"
          [bookings]="property.bookings"
          (dateRangeSelected)="onDateRangeSelected($event)">
        </app-range-date-picker>
      </div>
    </div>  </div>

  <!-- RIGHT SIDE -->
  <div class="right-side">
    <div class="map-placeholder">
      Map will go here üó∫Ô∏è
    </div>
  </div>
</div>
